# Repository Distiller Configuration
# Customized for whitelist-only filtering approach
# For detailed documentation, see docs/user-manual.md

# AI Coding Environment: 'chat' (default), 'ide', 'agentic', 'cli'
ai_coding_env: 'chat'

# Maximum file size in megabytes (applied after whitelist check)
max_file_size_mb: 5

# ============================================================================
# WHITELIST RULES (Highest Priority - ONLY whitelisted items are included)
# ============================================================================
# Note: This configuration uses a whitelist-only approach.
# Only explicitly whitelisted files/directories will be copied.

whitelist:
  # Specific files to include (supports glob patterns with *)
  files:
    # Core project files
    - "README.md"
    - "pyproject.toml"
    - "config.yaml"

    # Data files to be sampled (head + tail)
    - "examples/openai/gpt-5-mini/gold-gpt5mini/project-13_anne-duncan-deflection-misdirection_-at-2025-12-07-21-15-b32f81aa.csv"
    - "examples/openai/gpt-5-mini/gold-gpt5mini/project-13_anne-duncan-deflection-misdirection_-at-2025-12-07-21-15-b32f81aa.json"

  # Directories to recursively include
  directories:
    - "output/qa/step5_gold/"
    - "src/"
    - "src/qa_gold_lib/"

# ============================================================================
# BLACKLIST RULES (Applied to whitelisted items - for fine-grained exclusion)
# ============================================================================
blacklist:
  # Specific files to exclude even if in whitelisted directory
  files:
    - ".env"
    - ".env.local"
    - ".gitignore"
    - ".DS_Store"
    - "package-lock.json"
    - "yarn.lock"
    - "poetry.lock"

  # File extensions to skip (within whitelisted directories)
  extensions:
    # Images and documents
    - ".png"
    - ".jpg"
    - ".jpeg"
    - ".pdf"
    - ".md"  # Markdown files excluded except README.md

    # Standard exclusions
    - ".log"
    - ".tmp"
    - ".cache"
    - ".pyc"
    - ".pyo"
    - ".pyd"
    - ".so"
    - ".dll"
    - ".exe"
    - ".bin"
    - ".o"
    - ".a"
    - ".lib"

    # Binary data formats
    - ".gif"
    - ".bmp"
    - ".ico"
    - ".svg"
    - ".mp4"
    - ".avi"
    - ".mov"
    - ".mp3"
    - ".wav"

    # Office documents
    - ".docx"
    - ".xlsx"
    - ".pptx"
    - ".doc"
    - ".xls"
    - ".ppt"

    # Archives
    - ".zip"
    - ".tar"
    - ".gz"
    - ".7z"
    - ".rar"

  # Python-compatible regex patterns for filename matching
  # These patterns exclude versioned files, step files, and utility files
  # IMPORTANT: Use single quotes for raw strings or escape backslashes
  patterns:
    # Versioned Python files: matches *_v1.py, *_v2.py, ..., *_v99.py
    - '_v\d{1,2}\.py$'

    # Step-numbered files: matches step1_*.py, step2_*.py, etc.
    - '^step\d{1,2}'

    # Utility files: matches utils_*.py
    - '^utils_'

    # Additional common patterns
    - '_backup\d*\.'
    - '\.bak$'
    - '~$'

  # Directories to exclude (even within whitelisted directories)
  directories:
    - ".git/"
    - ".svn/"
    - ".hg/"
    - "node_modules/"
    - "__pycache__/"
    - ".pytest_cache/"
    - ".mypy_cache/"
    - ".tox/"
    - "venv/"
    - "env/"
    - ".venv/"
    - ".uv/"
    - "build/"
    - "dist/"
    - "*.egg-info/"
    - "logs/"
    - "temp/"
    - "tmp/"
    - "cache/"
    - "coverage/"
    - ".coverage/"
    - "htmlcov/"

# ============================================================================
# DATA SAMPLING CONFIGURATION
# ============================================================================
# For large data files, copy only head + tail samples instead of full content
data_sampling:
  enabled: true

  # File extensions to sample (structured/semi-structured data)
  target_extensions:
    - ".csv"
    - ".tsv"
    - ".json"
    - ".jsonl"

  # For CSV/TSV: include header row (true recommended)
  include_header: true

  # Number of rows/objects to include from the beginning
  head_rows: 5

  # Number of rows/objects to include from the end
  tail_rows: 5
